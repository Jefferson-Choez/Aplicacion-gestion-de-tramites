<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de usuario</title>
    <link rel="stylesheet" type="text/css" href="../static/css/estilos2.css">
</head>
<body>
    <div class="header">
    <div class="logo">
        <img src="../static/imagenes/Logo.png" alt="Logo"alt="Logo de la empresa" width="50">
    </div>
    <div class="company-text">
        Empresa Municipal de Agua Potable y Alcantarillado del Cantón Pedro Carbo - Empresa Pública<br>
    </div>
    </div>
    <h2>FORMULARIO DE REGISTRO DE USUARIO</h2>

    <form action="./Registro-exitoso.html"method="post" id="form" class="registration-form">
        <div class="column">
            <label for="primerNombre">Primer Nombre:</label>
            <input type="text" id="primerNombre" name="primerNombre" required>
            
            <label for="primerApellido">Primer Apellido:</label>
            <input type="text" id="primerApellido" name="primerApellido" required>
            
            <label for="cedula">Cédula de Identidad:</label>
            <input type="text" id="cedula" name="cedula" required>

            <label for="direccion">Dirección:</label>
            <input type="text" id="direccion" name="direccion" required>

            <label for="parroquia">Parroquia:</label>
            <select id="parroquia" name="parroquia">
                <option value="PedroCarbo">Pedro Carbo</option>
                <option value="Sabanilla">Sabanilla</option>
                <option value="ValleVirgen">Valle de la Virgen</option>
            </select>

            <label for="celular">Teléfono/Celular:</label>
            <input type="text" id="celular" name="celular" required>

            <label for="fechaNacimiento">Fecha de Nacimiento:</label>
            <input type="text" id="fechaNacimiento" name="fechaNacimiento" placeholder="DD/MM/AAAA" required>
            
        </div>
    
        <div class="column">
            
            <label for="segundonombre">Segundo Nombre:</label>
            <input type="text" id="segundonombre" name="segundonombre" required>

            <label for="segundoApellido">Segundo Apellido:</label>
            <input type="text" id="segundoApellido" name="segundoApellido" required>
            
            <label for="correoElectronico">Correo Electrónico:</label>
            <input type="email" id="correoElectronico" name="correoElectronico" required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}">
            
            <label for="contraseña">Contraseña:</label>
            <input type="password" id="contraseña" name="contraseña" required pattern="^(?=.*[A-Z])(?=.*\d).{8,}$" title="La contraseña debe tener al menos 8 caracteres, incluyendo al menos una letra mayúscula y un número">

            <label for="confirm-password">Confirmar Contraseña:</label>
            <input type="password" id="confirm-password" name="confirm-password" required>

            <input type="submit" value="Registrarse">

        </div>
    </form>
    <footer>
        <p>&copy; 2024 Empresa Municipal de Agua Potable y Alcantarillado.</p>
    </footer>
    <script>
        function validarFechaNacimiento() {
            var inputFecha = document.getElementById('fechaNacimiento').value;
            var partesFecha = inputFecha.split('/');
            
            if (partesFecha.length === 3) {
                var dia = parseInt(partesFecha[0]);
                var mes = parseInt(partesFecha[1]);
                var anio = parseInt(partesFecha[2]);
                var fechaHoy = new Date();
                var edad = fechaHoy.getFullYear() - fechaNacimiento.getFullYear();
                
                if (fechaNacimiento.getMonth() > fechaHoy.getMonth() || (fechaNacimiento.getMonth() === fechaHoy.getMonth() && fechaNacimiento.getDate() > fechaHoy.getDate())) {
                    edad--;
                }
                
                if (edad >= 18) {
                    return true;
                } else {
                    alert("Debes ser mayor de 18 años para registrarte.");
                    return false;
                }
            } else {
                alert("El formato de fecha debe ser DD/MM/AAAA.");
                return false;
            }
        }
        
        var formulario = document.querySelector('.registration-form');
        formulario.addEventListener('submit', function (e) {
            if (!validarFechaNacimiento()) {
                e.preventDefault();
            }
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.querySelector('.registration-form');
            const passwordInput = document.getElementById('password');
            const confirmInput = document.getElementById('confirm-password');
        
            form.addEventListener('submit', function(event) {
                if (passwordInput.value !== confirmInput.value) {
                    event.preventDefault();
                    alert('Las contraseñas no coinciden. Por favor, inténtalo de nuevo.');
                }
            });
        });
        </script>

</body>
</html>
</body>
</html>